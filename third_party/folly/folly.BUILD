package(default_visibility = ["//visibility:public"])

licenses(["notice"])

genrule(
    name = "folly_config_h",
    srcs = [
        "@//third_party/folly:folly-config.h",
    ],
    outs = [
        "folly/folly-config.h",
    ],
    cmd = "cat $(<) > $(@)",
)

cc_library(
    name = "folly",
    srcs = [
        "folly/CancellationToken.cpp",
        "folly/ClockGettimeWrappers.cpp",
        "folly/Conv.cpp",
        "folly/Demangle.cpp",
        "folly/ExceptionWrapper.cpp",
        "folly/Executor.cpp",
        "folly/File.cpp",
        "folly/FileUtil.cpp",
        "folly/Fingerprint.cpp",
        "folly/Format.cpp",
        "folly/GroupVarint.cpp",
        "folly/IPAddress.cpp",
        "folly/IPAddressV4.cpp",
        "folly/IPAddressV6.cpp",
        "folly/MacAddress.cpp",
        "folly/MicroLock.cpp",
        "folly/Random.cpp",
        "folly/ScopeGuard.cpp",
        "folly/SharedMutex.cpp",
        "folly/Singleton.cpp",
        "folly/SocketAddress.cpp",
        "folly/String.cpp",
        "folly/Subprocess.cpp",
        "folly/TimeoutQueue.cpp",
        "folly/Unicode.cpp",
        "folly/Uri.cpp",
        "folly/compression/Compression.cpp",
        "folly/compression/Counters.cpp",
        "folly/compression/Zlib.cpp",
        "folly/compression/Zstd.cpp",
        "folly/concurrency/CacheLocality.cpp",
        "folly/container/detail/F14Table.cpp",
        "folly/detail/AtFork.cpp",
        "folly/detail/Demangle.cpp",
        "folly/detail/Futex.cpp",
        "folly/detail/IPAddress.cpp",
        "folly/detail/MemoryIdler.cpp",
        "folly/detail/RangeCommon.cpp",
        "folly/detail/RangeSse42.cpp",
        "folly/detail/SingletonStackTrace.cpp",
        "folly/detail/SocketFastOpen.cpp",
        "folly/detail/Sse.cpp",
        "folly/detail/StaticSingletonManager.cpp",
        "folly/detail/ThreadLocalDetail.cpp",
        "folly/detail/UniqueInstance.cpp",
        "folly/dynamic.cpp",
        "folly/executors/CPUThreadPoolExecutor.cpp",
        "folly/executors/Codel.cpp",
        "folly/executors/EDFThreadPoolExecutor.cpp",
        "folly/executors/ExecutorWithPriority.cpp",
        "folly/executors/GlobalExecutor.cpp",
        "folly/executors/GlobalThreadPoolList.cpp",
        "folly/executors/IOThreadPoolExecutor.cpp",
        "folly/executors/InlineExecutor.cpp",
        "folly/executors/ManualExecutor.cpp",
        "folly/executors/QueuedImmediateExecutor.cpp",
        "folly/executors/SerialExecutor.cpp",
        "folly/executors/ThreadPoolExecutor.cpp",
        "folly/executors/ThreadedExecutor.cpp",
        "folly/executors/TimedDrivableExecutor.cpp",
        "folly/executors/TimekeeperScheduledExecutor.cpp",
        "folly/experimental/AtomicReadMostlyMainPtr.cpp",
        "folly/experimental/DynamicParser.cpp",
        "folly/experimental/EnvUtil.cpp",
        "folly/experimental/FunctionScheduler.cpp",
        "folly/experimental/JSONSchema.cpp",
        "folly/experimental/JemallocHugePageAllocator.cpp",
        "folly/experimental/JemallocNodumpAllocator.cpp",
        "folly/experimental/NestedCommandLineApp.cpp",
        "folly/experimental/ProgramOptions.cpp",
        "folly/experimental/QuotientMultiSet.cpp",
        "folly/experimental/STTimerFDTimeoutManager.cpp",
        "folly/experimental/Select64.cpp",
        "folly/experimental/TestUtil.cpp",
        "folly/experimental/ThreadedRepeatingFunctionRunner.cpp",
        "folly/experimental/TimerFD.cpp",
        "folly/experimental/TimerFDTimeoutManager.cpp",
        "folly/experimental/bser/Dump.cpp",
        "folly/experimental/bser/Load.cpp",
        "folly/experimental/coro/Baton.cpp",
        "folly/experimental/coro/Mutex.cpp",
        "folly/experimental/coro/SharedMutex.cpp",
        "folly/experimental/io/FsUtil.cpp",
        "folly/experimental/io/HugePages.cpp",
        "folly/experimental/observer/detail/Core.cpp",
        "folly/experimental/observer/detail/ObserverManager.cpp",
        "folly/experimental/settings/Settings.cpp",
        "folly/external/farmhash/farmhash.cpp",
        "folly/fibers/Baton.cpp",
        "folly/fibers/Fiber.cpp",
        "folly/fibers/FiberManager.cpp",
        "folly/fibers/FiberManagerMap.cpp",
        "folly/fibers/GuardPageAllocator.cpp",
        "folly/fibers/Semaphore.cpp",
        "folly/fibers/SimpleLoopController.cpp",
        "folly/fibers/detail/AtomicBatchDispatcher.cpp",
        "folly/futures/Barrier.cpp",
        "folly/futures/Future.cpp",
        "folly/futures/ManualTimekeeper.cpp",
        "folly/futures/ThreadWheelTimekeeper.cpp",
        "folly/hash/Checksum.cpp",
        "folly/hash/SpookyHashV1.cpp",
        "folly/hash/SpookyHashV2.cpp",
        "folly/hash/detail/ChecksumDetail.cpp",
        "folly/hash/detail/Crc32CombineDetail.cpp",
        "folly/hash/detail/Crc32cDetail.cpp",
        "folly/init/Init.cpp",
        "folly/io/Cursor.cpp",
        "folly/io/GlobalShutdownSocketSet.cpp",
        "folly/io/IOBuf.cpp",
        "folly/io/IOBufQueue.cpp",
        "folly/io/RecordIO.cpp",
        "folly/io/ShutdownSocketSet.cpp",
        "folly/io/async/AsyncPipe.cpp",
        "folly/io/async/AsyncSSLSocket.cpp",
        "folly/io/async/AsyncServerSocket.cpp",
        "folly/io/async/AsyncSignalHandler.cpp",
        "folly/io/async/AsyncSocket.cpp",
        "folly/io/async/AsyncSocketException.cpp",
        "folly/io/async/AsyncTimeout.cpp",
        "folly/io/async/AsyncUDPSocket.cpp",
        "folly/io/async/EventBase.cpp",
        "folly/io/async/EventBaseLocal.cpp",
        "folly/io/async/EventBaseManager.cpp",
        "folly/io/async/EventBaseThread.cpp",
        "folly/io/async/EventHandler.cpp",
        "folly/io/async/HHWheelTimer.cpp",
        "folly/io/async/PasswordInFile.cpp",
        "folly/io/async/Request.cpp",
        "folly/io/async/SSLContext.cpp",
        "folly/io/async/SSLOptions.cpp",
        "folly/io/async/ScopedEventBaseThread.cpp",
        "folly/io/async/TimeoutManager.cpp",
        "folly/io/async/VirtualEventBase.cpp",
        "folly/io/async/ssl/OpenSSLUtils.cpp",
        "folly/io/async/ssl/SSLErrors.cpp",
        "folly/io/async/test/ScopedBoundPort.cpp",
        "folly/io/async/test/SocketPair.cpp",
        "folly/io/async/test/TimeUtil.cpp",
        "folly/json.cpp",
        "folly/json_patch.cpp",
        "folly/json_pointer.cpp",
        "folly/lang/Assume.cpp",
        "folly/lang/CString.cpp",
        "folly/lang/ColdClass.cpp",
        "folly/lang/SafeAssert.cpp",
        "folly/logging/AsyncFileWriter.cpp",
        "folly/logging/AsyncLogWriter.cpp",
        "folly/logging/CustomLogFormatter.cpp",
        "folly/logging/FileHandlerFactory.cpp",
        "folly/logging/FileWriterFactory.cpp",
        "folly/logging/GlogStyleFormatter.cpp",
        "folly/logging/ImmediateFileWriter.cpp",
        "folly/logging/Init.cpp",
        "folly/logging/InitWeak.cpp",
        "folly/logging/LogCategory.cpp",
        "folly/logging/LogCategoryConfig.cpp",
        "folly/logging/LogConfig.cpp",
        "folly/logging/LogConfigParser.cpp",
        "folly/logging/LogHandlerConfig.cpp",
        "folly/logging/LogLevel.cpp",
        "folly/logging/LogMessage.cpp",
        "folly/logging/LogName.cpp",
        "folly/logging/LogStream.cpp",
        "folly/logging/LogStreamProcessor.cpp",
        "folly/logging/Logger.cpp",
        "folly/logging/LoggerDB.cpp",
        "folly/logging/ObjectToString.cpp",
        "folly/logging/RateLimiter.cpp",
        "folly/logging/StandardLogHandler.cpp",
        "folly/logging/StandardLogHandlerFactory.cpp",
        "folly/logging/StreamHandlerFactory.cpp",
        "folly/logging/xlog.cpp",
        "folly/memory/MallctlHelper.cpp",
        "folly/memory/SanitizeLeak.cpp",
        "folly/memory/ThreadCachedArena.cpp",
        "folly/memory/detail/MallocImpl.cpp",
        "folly/net/NetOps.cpp",
        "folly/net/detail/SocketFileDescriptorMap.cpp",
        "folly/portability/Builtins.cpp",
        "folly/portability/Dirent.cpp",
        "folly/portability/Fcntl.cpp",
        "folly/portability/Libgen.cpp",
        "folly/portability/Malloc.cpp",
        "folly/portability/OpenSSL.cpp",
        "folly/portability/PThread.cpp",
        "folly/portability/Sched.cpp",
        "folly/portability/Semaphore.cpp",
        "folly/portability/Sockets.cpp",
        "folly/portability/Stdio.cpp",
        "folly/portability/Stdlib.cpp",
        "folly/portability/String.cpp",
        "folly/portability/SysFile.cpp",
        "folly/portability/SysMembarrier.cpp",
        "folly/portability/SysMman.cpp",
        "folly/portability/SysResource.cpp",
        "folly/portability/SysStat.cpp",
        "folly/portability/SysTime.cpp",
        "folly/portability/SysUio.cpp",
        "folly/portability/Time.cpp",
        "folly/portability/Unistd.cpp",
        "folly/ssl/Init.cpp",
        "folly/ssl/OpenSSLCertUtils.cpp",
        "folly/ssl/OpenSSLHash.cpp",
        "folly/ssl/detail/OpenSSLThreading.cpp",
        "folly/ssl/detail/SSLSessionImpl.cpp",
        "folly/stats/QuantileEstimator.cpp",
        "folly/stats/TDigest.cpp",
        "folly/stats/detail/DoubleRadixSort.cpp",
        "folly/synchronization/AsymmetricMemoryBarrier.cpp",
        "folly/synchronization/AtomicNotification.cpp",
        "folly/synchronization/DistributedMutex.cpp",
        "folly/synchronization/Hazptr.cpp",
        "folly/synchronization/ParkingLot.cpp",
        "folly/synchronization/Rcu.cpp",
        "folly/synchronization/SanitizeThread.cpp",
        "folly/synchronization/WaitOptions.cpp",
        "folly/synchronization/detail/Hardware.cpp",
        "folly/system/HardwareConcurrency.cpp",
        "folly/system/MemoryMapping.cpp",
        "folly/system/Shell.cpp",
        "folly/system/ThreadName.cpp",
    ],
    hdrs = [
        "folly/AtomicBitSet.h",
        "folly/AtomicHashArray.h",
        "folly/AtomicHashArray-inl.h",
        "folly/AtomicHashMap.h",
        "folly/AtomicHashMap-inl.h",
        "folly/AtomicIntrusiveLinkedList.h",
        "folly/AtomicLinkedList.h",
        "folly/AtomicUnorderedMap.h",
        "folly/Benchmark.h",
        "folly/Bits.h",
        "folly/CPortability.h",
        "folly/CachelinePadded.h",
        "folly/CancellationToken.h",
        "folly/CancellationToken-inl.h",
        "folly/Chrono.h",
        "folly/ClockGettimeWrappers.h",
        "folly/ConcurrentSkipList.h",
        "folly/ConcurrentSkipList-inl.h",
        "folly/ConstexprMath.h",
        "folly/Conv.h",
        "folly/CppAttributes.h",
        "folly/CpuId.h",
        "folly/DefaultKeepAliveExecutor.h",
        "folly/Demangle.h",
        "folly/DiscriminatedPtr.h",
        "folly/DynamicConverter.h",
        "folly/Exception.h",
        "folly/ExceptionString.h",
        "folly/ExceptionWrapper.h",
        "folly/ExceptionWrapper-inl.h",
        "folly/Executor.h",
        "folly/Expected.h",
        "folly/FBString.h",
        "folly/FBVector.h",
        "folly/File.h",
        "folly/FileUtil.h",
        "folly/Fingerprint.h",
        "folly/FixedString.h",
        "folly/Format.h",
        "folly/Format-inl.h",
        "folly/FormatArg.h",
        "folly/FormatTraits.h",
        "folly/Function.h",
        "folly/GLog.h",
        "folly/GroupVarint.h",
        "folly/Hash.h",
        "folly/IPAddress.h",
        "folly/IPAddressException.h",
        "folly/IPAddressV4.h",
        "folly/IPAddressV6.h",
        "folly/Indestructible.h",
        "folly/IndexedMemPool.h",
        "folly/IntrusiveList.h",
        "folly/Lazy.h",
        "folly/Likely.h",
        "folly/LockTraits.h",
        "folly/MPMCPipeline.h",
        "folly/MPMCQueue.h",
        "folly/MacAddress.h",
        "folly/MapUtil.h",
        "folly/Math.h",
        "folly/Memory.h",
        "folly/MicroLock.h",
        "folly/MicroSpinLock.h",
        "folly/MoveWrapper.h",
        "folly/Optional.h",
        "folly/Overload.h",
        "folly/PackedSyncPtr.h",
        "folly/Padded.h",
        "folly/Poly.h",
        "folly/Poly-inl.h",
        "folly/PolyException.h",
        "folly/Portability.h",
        "folly/Preprocessor.h",
        "folly/ProducerConsumerQueue.h",
        "folly/RWSpinLock.h",
        "folly/Random.h",
        "folly/Random-inl.h",
        "folly/Range.h",
        "folly/Replaceable.h",
        "folly/ScopeGuard.h",
        "folly/SharedMutex.h",
        "folly/Singleton.h",
        "folly/Singleton-inl.h",
        "folly/SingletonThreadLocal.h",
        "folly/SocketAddress.h",
        "folly/SpinLock.h",
        "folly/String.h",
        "folly/String-inl.h",
        "folly/Subprocess.h",
        "folly/Synchronized.h",
        "folly/SynchronizedPtr.h",
        "folly/ThreadCachedInt.h",
        "folly/ThreadLocal.h",
        "folly/TimeoutQueue.h",
        "folly/TokenBucket.h",
        "folly/Traits.h",
        "folly/Try.h",
        "folly/Try-inl.h",
        "folly/UTF8String.h",
        "folly/Unicode.h",
        "folly/Unit.h",
        "folly/Uri.h",
        "folly/Uri-inl.h",
        "folly/Utility.h",
        "folly/Varint.h",
        "folly/VirtualExecutor.h",
        "folly/chrono/Conv.h",
        "folly/chrono/Hardware.h",
        "folly/compression/Compression.h",
        "folly/compression/CompressionContextPool.h",
        "folly/compression/Counters.h",
        "folly/compression/Utils.h",
        "folly/compression/Zlib.h",
        "folly/compression/Zstd.h",
        "folly/concurrency/AtomicSharedPtr.h",
        "folly/concurrency/CacheLocality.h",
        "folly/concurrency/ConcurrentHashMap.h",
        "folly/concurrency/CoreCachedSharedPtr.h",
        "folly/concurrency/DynamicBoundedQueue.h",
        "folly/concurrency/PriorityUnboundedQueueSet.h",
        "folly/concurrency/UnboundedQueue.h",
        "folly/concurrency/detail/AtomicSharedPtr-detail.h",
        "folly/concurrency/detail/ConcurrentHashMap-detail.h",
        "folly/container/Access.h",
        "folly/container/Array.h",
        "folly/container/BitIterator.h",
        "folly/container/Enumerate.h",
        "folly/container/EvictingCacheMap.h",
        "folly/container/F14Map.h",
        "folly/container/F14Map-fwd.h",
        "folly/container/F14Set.h",
        "folly/container/F14Set-fwd.h",
        "folly/container/Foreach.h",
        "folly/container/Foreach-inl.h",
        "folly/container/HeterogeneousAccess.h",
        "folly/container/HeterogeneousAccess-fwd.h",
        "folly/container/Iterator.h",
        "folly/container/Merge.h",
        "folly/container/SparseByteSet.h",
        "folly/container/detail/BitIteratorDetail.h",
        "folly/container/detail/F14Defaults.h",
        "folly/container/detail/F14IntrinsicsAvailability.h",
        "folly/container/detail/F14Mask.h",
        "folly/container/detail/F14Policy.h",
        "folly/container/detail/F14Table.h",
        "folly/container/detail/Util.h",
        "folly/container/test/F14TestUtil.h",
        "folly/container/test/TrackingTypes.h",
        "folly/detail/AtFork.h",
        "folly/detail/AtomicHashUtils.h",
        "folly/detail/AtomicUnorderedMapUtils.h",
        "folly/detail/Demangle.h",
        "folly/detail/DiscriminatedPtrDetail.h",
        "folly/detail/FileUtilDetail.h",
        "folly/detail/FingerprintPolynomial.h",
        "folly/detail/Futex.h",
        "folly/detail/Futex-inl.h",
        "folly/detail/GroupVarintDetail.h",
        "folly/detail/IPAddress.h",
        "folly/detail/IPAddressSource.h",
        "folly/detail/Iterators.h",
        "folly/detail/MPMCPipelineDetail.h",
        "folly/detail/MemoryIdler.h",
        "folly/detail/PolyDetail.h",
        "folly/detail/RangeCommon.h",
        "folly/detail/RangeSse42.h",
        "folly/detail/Singleton.h",
        "folly/detail/SingletonStackTrace.h",
        "folly/detail/SlowFingerprint.h",
        "folly/detail/SocketFastOpen.h",
        "folly/detail/Sse.h",
        "folly/detail/StaticSingletonManager.h",
        "folly/detail/ThreadLocalDetail.h",
        "folly/detail/TurnSequencer.h",
        "folly/detail/TypeList.h",
        "folly/detail/UniqueInstance.h",
        "folly/dynamic.h",
        "folly/dynamic-inl.h",
        "folly/executors/Async.h",
        "folly/executors/CPUThreadPoolExecutor.h",
        "folly/executors/Codel.h",
        "folly/executors/DrivableExecutor.h",
        "folly/executors/EDFThreadPoolExecutor.h",
        "folly/executors/ExecutorWithPriority.h",
        "folly/executors/ExecutorWithPriority-inl.h",
        "folly/executors/FiberIOExecutor.h",
        "folly/executors/FutureExecutor.h",
        "folly/executors/GlobalExecutor.h",
        "folly/executors/GlobalThreadPoolList.h",
        "folly/executors/IOExecutor.h",
        "folly/executors/IOObjectCache.h",
        "folly/executors/IOThreadPoolExecutor.h",
        "folly/executors/InlineExecutor.h",
        "folly/executors/ManualExecutor.h",
        "folly/executors/QueuedImmediateExecutor.h",
        "folly/executors/ScheduledExecutor.h",
        "folly/executors/SequencedExecutor.h",
        "folly/executors/SerialExecutor.h",
        "folly/executors/SoftRealTimeExecutor.h",
        "folly/executors/ThreadPoolExecutor.h",
        "folly/executors/ThreadedExecutor.h",
        "folly/executors/TimedDrivableExecutor.h",
        "folly/executors/TimekeeperScheduledExecutor.h",
        "folly/executors/task_queue/BlockingQueue.h",
        "folly/executors/task_queue/LifoSemMPMCQueue.h",
        "folly/executors/task_queue/PriorityLifoSemMPMCQueue.h",
        "folly/executors/task_queue/PriorityUnboundedBlockingQueue.h",
        "folly/executors/task_queue/UnboundedBlockingQueue.h",
        "folly/executors/thread_factory/InitThreadFactory.h",
        "folly/executors/thread_factory/NamedThreadFactory.h",
        "folly/executors/thread_factory/PriorityThreadFactory.h",
        "folly/executors/thread_factory/ThreadFactory.h",
        "folly/experimental/AtomicReadMostlyMainPtr.h",
        "folly/experimental/AutoTimer.h",
        "folly/experimental/BitVectorCoding.h",
        "folly/experimental/Bits.h",
        "folly/experimental/CodingDetail.h",
        "folly/experimental/DynamicParser.h",
        "folly/experimental/DynamicParser-inl.h",
        "folly/experimental/EliasFanoCoding.h",
        "folly/experimental/EnvUtil.h",
        "folly/experimental/EventCount.h",
        "folly/experimental/ExecutionObserver.h",
        "folly/experimental/FlatCombiningPriorityQueue.h",
        "folly/experimental/FunctionScheduler.h",
        "folly/experimental/FutureDAG.h",
        "folly/experimental/Instructions.h",
        "folly/experimental/JSONSchema.h",
        "folly/experimental/JemallocHugePageAllocator.h",
        "folly/experimental/JemallocNodumpAllocator.h",
        "folly/experimental/LockFreeRingBuffer.h",
        "folly/experimental/NestedCommandLineApp.h",
        "folly/experimental/ProgramOptions.h",
        "folly/experimental/QuotientMultiSet.h",
        "folly/experimental/QuotientMultiSet-inl.h",
        "folly/experimental/ReadMostlySharedPtr.h",
        "folly/experimental/RelaxedConcurrentPriorityQueue.h",
        "folly/experimental/STTimerFDTimeoutManager.h",
        "folly/experimental/Select64.h",
        "folly/experimental/SingleWriterFixedHashMap.h",
        "folly/experimental/SingletonRelaxedCounter.h",
        "folly/experimental/StampedPtr.h",
        "folly/experimental/StringKeyedCommon.h",
        "folly/experimental/StringKeyedMap.h",
        "folly/experimental/StringKeyedSet.h",
        "folly/experimental/StringKeyedUnorderedMap.h",
        "folly/experimental/StringKeyedUnorderedSet.h",
        "folly/experimental/TLRefCount.h",
        "folly/experimental/TestUtil.h",
        "folly/experimental/ThreadedRepeatingFunctionRunner.h",
        "folly/experimental/TimerFD.h",
        "folly/experimental/TimerFDTimeoutManager.h",
        "folly/experimental/TupleOps.h",
        "folly/experimental/bser/Bser.h",
        "folly/experimental/coro/AsyncGenerator.h",
        "folly/experimental/coro/Baton.h",
        "folly/experimental/coro/BlockingWait.h",
        "folly/experimental/coro/Collect.h",
        "folly/experimental/coro/Collect-inl.h",
        "folly/experimental/coro/CurrentExecutor.h",
        "folly/experimental/coro/Dematerialize.h",
        "folly/experimental/coro/Dematerialize-inl.h",
        "folly/experimental/coro/Generator.h",
        "folly/experimental/coro/Materialize.h",
        "folly/experimental/coro/Materialize-inl.h",
        "folly/experimental/coro/Merge.h",
        "folly/experimental/coro/Merge-inl.h",
        "folly/experimental/coro/Multiplex.h",
        "folly/experimental/coro/Multiplex-inl.h",
        "folly/experimental/coro/Mutex.h",
        "folly/experimental/coro/SharedLock.h",
        "folly/experimental/coro/SharedMutex.h",
        "folly/experimental/coro/Sleep.h",
        "folly/experimental/coro/Sleep-inl.h",
        "folly/experimental/coro/Task.h",
        "folly/experimental/coro/TimedWait.h",
        "folly/experimental/coro/Traits.h",
        "folly/experimental/coro/Transform.h",
        "folly/experimental/coro/Transform-inl.h",
        "folly/experimental/coro/Utils.h",
        "folly/experimental/coro/ViaIfAsync.h",
        "folly/experimental/coro/Wait.h",
        "folly/experimental/coro/WithCancellation.h",
        "folly/experimental/coro/detail/Barrier.h",
        "folly/experimental/coro/detail/BarrierTask.h",
        "folly/experimental/coro/detail/Helpers.h",
        "folly/experimental/coro/detail/InlineTask.h",
        "folly/experimental/coro/detail/ManualLifetime.h",
        "folly/experimental/coro/detail/Traits.h",
        "folly/experimental/flat_combining/FlatCombining.h",
        "folly/experimental/io/FsUtil.h",
        "folly/experimental/io/HugePages.h",
        "folly/experimental/observer/Observable.h",
        "folly/experimental/observer/Observable-inl.h",
        "folly/experimental/observer/Observer.h",
        "folly/experimental/observer/Observer-inl.h",
        "folly/experimental/observer/Observer-pre.h",
        "folly/experimental/observer/SimpleObservable.h",
        "folly/experimental/observer/SimpleObservable-inl.h",
        "folly/experimental/observer/detail/Core.h",
        "folly/experimental/observer/detail/GraphCycleDetector.h",
        "folly/experimental/observer/detail/ObserverManager.h",
        "folly/experimental/settings/Settings.h",
        "folly/experimental/settings/SettingsMetadata.h",
        "folly/experimental/settings/detail/SettingsImpl.h",
        "folly/external/farmhash/farmhash.h",
        "folly/fibers/AddTasks.h",
        "folly/fibers/AddTasks-inl.h",
        "folly/fibers/AtomicBatchDispatcher.h",
        "folly/fibers/AtomicBatchDispatcher-inl.h",
        "folly/fibers/BatchDispatcher.h",
        "folly/fibers/Baton.h",
        "folly/fibers/Baton-inl.h",
        "folly/fibers/BoostContextCompatibility.h",
        "folly/fibers/CallOnce.h",
        "folly/fibers/EventBaseLoopController.h",
        "folly/fibers/EventBaseLoopController-inl.h",
        "folly/fibers/ExecutorLoopController.h",
        "folly/fibers/ExecutorLoopController-inl.h",
        "folly/fibers/Fiber.h",
        "folly/fibers/Fiber-inl.h",
        "folly/fibers/FiberManager.h",
        "folly/fibers/FiberManager-inl.h",
        "folly/fibers/FiberManagerInternal.h",
        "folly/fibers/FiberManagerInternal-inl.h",
        "folly/fibers/FiberManagerMap.h",
        "folly/fibers/ForEach.h",
        "folly/fibers/ForEach-inl.h",
        "folly/fibers/GenericBaton.h",
        "folly/fibers/GuardPageAllocator.h",
        "folly/fibers/LoopController.h",
        "folly/fibers/Promise.h",
        "folly/fibers/Promise-inl.h",
        "folly/fibers/Semaphore.h",
        "folly/fibers/SimpleLoopController.h",
        "folly/fibers/TimedMutex.h",
        "folly/fibers/TimedMutex-inl.h",
        "folly/fibers/WhenN.h",
        "folly/fibers/WhenN-inl.h",
        "folly/fibers/detail/AtomicBatchDispatcher.h",
        "folly/fibers/traits.h",
        "folly/functional/ApplyTuple.h",
        "folly/functional/Invoke.h",
        "folly/functional/Partial.h",
        "folly/futures/Barrier.h",
        "folly/futures/Future.h",
        "folly/futures/Future-inl.h",
        "folly/futures/Future-pre.h",
        "folly/futures/FutureSplitter.h",
        "folly/futures/ManualTimekeeper.h",
        "folly/futures/Portability.h",
        "folly/futures/Promise.h",
        "folly/futures/Promise-inl.h",
        "folly/futures/Retrying.h",
        "folly/futures/SharedPromise.h",
        "folly/futures/SharedPromise-inl.h",
        "folly/futures/ThreadWheelTimekeeper.h",
        "folly/futures/detail/Core.h",
        "folly/futures/detail/Types.h",
        "folly/gen/Base.h",
        "folly/gen/Base-inl.h",
        "folly/gen/Combine.h",
        "folly/gen/Combine-inl.h",
        "folly/gen/Core.h",
        "folly/gen/Core-inl.h",
        "folly/gen/File.h",
        "folly/gen/File-inl.h",
        "folly/gen/IStream.h",
        "folly/gen/Parallel.h",
        "folly/gen/Parallel-inl.h",
        "folly/gen/ParallelMap.h",
        "folly/gen/ParallelMap-inl.h",
        "folly/gen/String.h",
        "folly/gen/String-inl.h",
        "folly/hash/Checksum.h",
        "folly/hash/FarmHash.h",
        "folly/hash/Hash.h",
        "folly/hash/SpookyHashV1.h",
        "folly/hash/SpookyHashV2.h",
        "folly/hash/detail/ChecksumDetail.h",
        "folly/init/Init.h",
        "folly/io/Cursor.h",
        "folly/io/Cursor-inl.h",
        "folly/io/GlobalShutdownSocketSet.h",
        "folly/io/IOBuf.h",
        "folly/io/IOBufQueue.h",
        "folly/io/RecordIO.h",
        "folly/io/RecordIO-inl.h",
        "folly/io/ShutdownSocketSet.h",
        "folly/io/TypedIOBuf.h",
        "folly/io/async/AsyncPipe.h",
        "folly/io/async/AsyncSSLSocket.h",
        "folly/io/async/AsyncServerSocket.h",
        "folly/io/async/AsyncSignalHandler.h",
        "folly/io/async/AsyncSocket.h",
        "folly/io/async/AsyncSocketBase.h",
        "folly/io/async/AsyncSocketException.h",
        "folly/io/async/AsyncTimeout.h",
        "folly/io/async/AsyncTransport.h",
        "folly/io/async/AsyncTransportCertificate.h",
        "folly/io/async/AsyncUDPServerSocket.h",
        "folly/io/async/AsyncUDPSocket.h",
        "folly/io/async/DecoratedAsyncTransportWrapper.h",
        "folly/io/async/DelayedDestruction.h",
        "folly/io/async/DelayedDestructionBase.h",
        "folly/io/async/DestructorCheck.h",
        "folly/io/async/EventBase.h",
        "folly/io/async/EventBaseLocal.h",
        "folly/io/async/EventBaseManager.h",
        "folly/io/async/EventBaseThread.h",
        "folly/io/async/EventFDWrapper.h",
        "folly/io/async/EventHandler.h",
        "folly/io/async/EventUtil.h",
        "folly/io/async/HHWheelTimer.h",
        "folly/io/async/HHWheelTimer-fwd.h",
        "folly/io/async/NotificationQueue.h",
        "folly/io/async/PasswordInFile.h",
        "folly/io/async/Request.h",
        "folly/io/async/SSLContext.h",
        "folly/io/async/SSLOptions.h",
        "folly/io/async/ScopedEventBaseThread.h",
        "folly/io/async/TimeoutManager.h",
        "folly/io/async/VirtualEventBase.h",
        "folly/io/async/WriteChainAsyncTransportWrapper.h",
        "folly/io/async/ssl/BasicTransportCertificate.h",
        "folly/io/async/ssl/OpenSSLUtils.h",
        "folly/io/async/ssl/SSLErrors.h",
        "folly/io/async/ssl/TLSDefinitions.h",
        "folly/io/async/test/AsyncSSLSocketTest.h",
        "folly/io/async/test/AsyncSocketTest.h",
        "folly/io/async/test/AsyncSocketTest2.h",
        "folly/io/async/test/BlockingSocket.h",
        "folly/io/async/test/MockAsyncSSLSocket.h",
        "folly/io/async/test/MockAsyncServerSocket.h",
        "folly/io/async/test/MockAsyncSocket.h",
        "folly/io/async/test/MockAsyncTransport.h",
        "folly/io/async/test/MockAsyncUDPSocket.h",
        "folly/io/async/test/MockTimeoutManager.h",
        "folly/io/async/test/ScopedBoundPort.h",
        "folly/io/async/test/SocketPair.h",
        "folly/io/async/test/TestSSLServer.h",
        "folly/io/async/test/TimeUtil.h",
        "folly/io/async/test/UndelayedDestruction.h",
        "folly/io/async/test/Util.h",
        "folly/json.h",
        "folly/json_patch.h",
        "folly/json_pointer.h",
        "folly/lang/Align.h",
        "folly/lang/Aligned.h",
        "folly/lang/Assume.h",
        "folly/lang/Bits.h",
        "folly/lang/CString.h",
        "folly/lang/Cast.h",
        "folly/lang/CheckedMath.h",
        "folly/lang/ColdClass.h",
        "folly/lang/CustomizationPoint.h",
        "folly/lang/Exception.h",
        "folly/lang/Launder.h",
        "folly/lang/Ordering.h",
        "folly/lang/Pretty.h",
        "folly/lang/PropagateConst.h",
        "folly/lang/RValueReferenceWrapper.h",
        "folly/lang/SafeAssert.h",
        "folly/lang/StaticConst.h",
        "folly/lang/TypeInfo.h",
        "folly/lang/UncaughtExceptions.h",
        "folly/logging/AsyncFileWriter.h",
        "folly/logging/AsyncLogWriter.h",
        "folly/logging/CustomLogFormatter.h",
        "folly/logging/FileHandlerFactory.h",
        "folly/logging/FileWriterFactory.h",
        "folly/logging/GlogStyleFormatter.h",
        "folly/logging/ImmediateFileWriter.h",
        "folly/logging/Init.h",
        "folly/logging/LogCategory.h",
        "folly/logging/LogCategoryConfig.h",
        "folly/logging/LogConfig.h",
        "folly/logging/LogConfigParser.h",
        "folly/logging/LogFormatter.h",
        "folly/logging/LogHandler.h",
        "folly/logging/LogHandlerConfig.h",
        "folly/logging/LogHandlerFactory.h",
        "folly/logging/LogLevel.h",
        "folly/logging/LogMessage.h",
        "folly/logging/LogName.h",
        "folly/logging/LogStream.h",
        "folly/logging/LogStreamProcessor.h",
        "folly/logging/LogWriter.h",
        "folly/logging/Logger.h",
        "folly/logging/LoggerDB.h",
        "folly/logging/ObjectToString.h",
        "folly/logging/RateLimiter.h",
        "folly/logging/StandardLogHandler.h",
        "folly/logging/StandardLogHandlerFactory.h",
        "folly/logging/StreamHandlerFactory.h",
        "folly/logging/xlog.h",
        "folly/memory/Arena.h",
        "folly/memory/Arena-inl.h",
        "folly/memory/EnableSharedFromThis.h",
        "folly/memory/MallctlHelper.h",
        "folly/memory/Malloc.h",
        "folly/memory/MemoryResource.h",
        "folly/memory/SanitizeLeak.h",
        "folly/memory/ThreadCachedArena.h",
        "folly/memory/UninitializedMemoryHacks.h",
        "folly/memory/detail/MallocImpl.h",
        "folly/net/NetOps.h",
        "folly/net/NetworkSocket.h",
        "folly/net/detail/SocketFileDescriptorMap.h",
        "folly/poly/Nullable.h",
        "folly/poly/Regular.h",
        "folly/portability/Asm.h",
        "folly/portability/Atomic.h",
        "folly/portability/Builtins.h",
        "folly/portability/Config.h",
        "folly/portability/Constexpr.h",
        "folly/portability/Dirent.h",
        "folly/portability/Event.h",
        "folly/portability/Fcntl.h",
        "folly/portability/GFlags.h",
        "folly/portability/GMock.h",
        "folly/portability/GTest.h",
        "folly/portability/IOVec.h",
        "folly/portability/Libgen.h",
        "folly/portability/Malloc.h",
        "folly/portability/Math.h",
        "folly/portability/Memory.h",
        "folly/portability/OpenSSL.h",
        "folly/portability/PThread.h",
        "folly/portability/Sched.h",
        "folly/portability/Semaphore.h",
        "folly/portability/Sockets.h",
        "folly/portability/Stdio.h",
        "folly/portability/Stdlib.h",
        "folly/portability/String.h",
        "folly/portability/SysFile.h",
        "folly/portability/SysMembarrier.h",
        "folly/portability/SysMman.h",
        "folly/portability/SysResource.h",
        "folly/portability/SysStat.h",
        "folly/portability/SysSyscall.h",
        "folly/portability/SysTime.h",
        "folly/portability/SysTypes.h",
        "folly/portability/SysUio.h",
        "folly/portability/Syslog.h",
        "folly/portability/Time.h",
        "folly/portability/Unistd.h",
        "folly/portability/Windows.h",
        "folly/small_vector.h",
        "folly/sorted_vector_types.h",
        "folly/ssl/Init.h",
        "folly/ssl/OpenSSLCertUtils.h",
        "folly/ssl/OpenSSLHash.h",
        "folly/ssl/OpenSSLLockTypes.h",
        "folly/ssl/OpenSSLPtrTypes.h",
        "folly/ssl/OpenSSLVersionFinder.h",
        "folly/ssl/SSLSession.h",
        "folly/ssl/detail/OpenSSLThreading.h",
        "folly/ssl/detail/SSLSessionImpl.h",
        "folly/stats/BucketedTimeSeries.h",
        "folly/stats/BucketedTimeSeries-inl.h",
        "folly/stats/Histogram.h",
        "folly/stats/Histogram-inl.h",
        "folly/stats/MultiLevelTimeSeries.h",
        "folly/stats/MultiLevelTimeSeries-inl.h",
        "folly/stats/QuantileEstimator.h",
        "folly/stats/QuantileEstimator-inl.h",
        "folly/stats/TDigest.h",
        "folly/stats/TimeseriesHistogram.h",
        "folly/stats/TimeseriesHistogram-inl.h",
        "folly/stats/detail/Bucket.h",
        "folly/stats/detail/BufferedStat.h",
        "folly/stats/detail/BufferedStat-inl.h",
        "folly/stats/detail/DigestBuilder.h",
        "folly/stats/detail/DigestBuilder-inl.h",
        "folly/stats/detail/DoubleRadixSort.h",
        "folly/stats/detail/SlidingWindow.h",
        "folly/stats/detail/SlidingWindow-inl.h",
        "folly/stop_watch.h",
        "folly/synchronization/AsymmetricMemoryBarrier.h",
        "folly/synchronization/AtomicNotification.h",
        "folly/synchronization/AtomicNotification-inl.h",
        "folly/synchronization/AtomicStruct.h",
        "folly/synchronization/AtomicUtil.h",
        "folly/synchronization/AtomicUtil-inl.h",
        "folly/synchronization/Baton.h",
        "folly/synchronization/CallOnce.h",
        "folly/synchronization/DistributedMutex.h",
        "folly/synchronization/DistributedMutex-inl.h",
        "folly/synchronization/DistributedMutexSpecializations.h",
        "folly/synchronization/Hazptr.h",
        "folly/synchronization/Hazptr-fwd.h",
        "folly/synchronization/HazptrDomain.h",
        "folly/synchronization/HazptrHolder.h",
        "folly/synchronization/HazptrObj.h",
        "folly/synchronization/HazptrObjLinked.h",
        "folly/synchronization/HazptrRec.h",
        "folly/synchronization/HazptrThrLocal.h",
        "folly/synchronization/LifoSem.h",
        "folly/synchronization/MicroSpinLock.h",
        "folly/synchronization/ParkingLot.h",
        "folly/synchronization/PicoSpinLock.h",
        "folly/synchronization/RWSpinLock.h",
        "folly/synchronization/Rcu.h",
        "folly/synchronization/Rcu-inl.h",
        "folly/synchronization/SanitizeThread.h",
        "folly/synchronization/SaturatingSemaphore.h",
        "folly/synchronization/SmallLocks.h",
        "folly/synchronization/Tearable.h",
        "folly/synchronization/Utility.h",
        "folly/synchronization/WaitOptions.h",
        "folly/synchronization/detail/AtomicUtils.h",
        "folly/synchronization/detail/Hardware.h",
        "folly/synchronization/detail/HazptrUtils.h",
        "folly/synchronization/detail/InlineFunctionRef.h",
        "folly/synchronization/detail/ProxyLockable.h",
        "folly/synchronization/detail/ProxyLockable-inl.h",
        "folly/synchronization/detail/Sleeper.h",
        "folly/synchronization/detail/Spin.h",
        "folly/synchronization/detail/ThreadCachedInts.h",
        "folly/synchronization/detail/ThreadCachedLists.h",
        "folly/synchronization/example/HazptrLockFreeLIFO.h",
        "folly/synchronization/example/HazptrSWMRSet.h",
        "folly/synchronization/example/HazptrWideCAS.h",
        "folly/synchronization/test/Semaphore.h",
        "folly/system/HardwareConcurrency.h",
        "folly/system/MemoryMapping.h",
        "folly/system/Shell.h",
        "folly/system/ThreadId.h",
        "folly/system/ThreadName.h",
        "folly/test/DeterministicSchedule.h",
        "folly/test/JsonTestUtil.h",
        "folly/test/TestUtils.h",
        "folly/tracing/ScopedTraceSection.h",
        "folly/tracing/StaticTracepoint.h",
        "folly/tracing/StaticTracepoint-ELFx86.h",
        ":folly_config_h",
    ],
    copts = [
        "-fPIC",
        "-faligned-new",
        "-finput-charset=UTF-8",
        "-fsigned-char",
        "-Wall",
        "-Wno-deprecated",
        "-Wno-deprecated-declarations",
        "-Wno-sign-compare",
        "-Wno-unused",
        "-Wunused-label",
        "-Wunused-result",
        "-Wshadow-compatible-local",
        "-Wno-noexcept-type",
        "-fopenmp",
        "-std=gnu++14",
    ],
    includes = ["."],
    linkopts = [
        "-pthread",
        # TODO(storypku): Move ssl out as external dependency
        "-lssl",
    ],
    linkstatic = True,
    visibility = ["//visibility:public"],
    deps = [
        "@boost//:algorithm",
        "@boost//:config",
        "@boost//:container",
        "@boost//:context",
        "@boost//:conversion",
        "@boost//:crc",
        "@boost//:filesystem",
        "@boost//:intrusive",
        "@boost//:iterator",
        "@boost//:multi_index",
        "@boost//:operators",
        "@boost//:program_options",
        "@boost//:regex",
        "@boost//:type_traits",
        "@boost//:utility",
        "@boost//:variant",
        "@com_github_gflags_gflags//:gflags",
        "@com_github_google_glog//:glog",
        "@com_github_google_snappy//:snappy",
        "@com_github_libevent_libevent//:libevent",
        "@double-conversion//:double-conversion",
    ],
)
